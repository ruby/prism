# Generated from lib/prism/desugar_compiler.rb with RBS::Inline

module Prism
  class DesugarAndWriteNode
    include DSL

    attr_reader node: ClassVariableAndWriteNode | ConstantAndWriteNode | GlobalVariableAndWriteNode | InstanceVariableAndWriteNode | LocalVariableAndWriteNode

    attr_reader default_source: Source

    attr_reader read_class: Symbol

    attr_reader write_class: Symbol

    attr_reader arguments: Hash[Symbol, untyped]

    # : ((ClassVariableAndWriteNode | ConstantAndWriteNode | GlobalVariableAndWriteNode | InstanceVariableAndWriteNode | LocalVariableAndWriteNode) node, Source default_source, Symbol read_class, Symbol write_class, **untyped arguments) -> void
    def initialize: (ClassVariableAndWriteNode | ConstantAndWriteNode | GlobalVariableAndWriteNode | InstanceVariableAndWriteNode | LocalVariableAndWriteNode node, Source default_source, Symbol read_class, Symbol write_class, **untyped arguments) -> void

    # Desugar `x &&= y` to `x && x = y`
    # --
    # : () -> node
    def compile: () -> node
  end

  class DesugarOrWriteDefinedNode
    include DSL

    attr_reader node: ClassVariableOrWriteNode | ConstantOrWriteNode | GlobalVariableOrWriteNode

    attr_reader default_source: Source

    attr_reader read_class: Symbol

    attr_reader write_class: Symbol

    attr_reader arguments: Hash[Symbol, untyped]

    # : ((ClassVariableOrWriteNode | ConstantOrWriteNode | GlobalVariableOrWriteNode) node, Source default_source, Symbol read_class, Symbol write_class, **untyped arguments) -> void
    def initialize: (ClassVariableOrWriteNode | ConstantOrWriteNode | GlobalVariableOrWriteNode node, Source default_source, Symbol read_class, Symbol write_class, **untyped arguments) -> void

    # Desugar `x ||= y` to `defined?(x) ? x : x = y`
    # --
    # : () -> node
    def compile: () -> node
  end

  class DesugarOperatorWriteNode
    include DSL

    attr_reader node: ClassVariableOperatorWriteNode | ConstantOperatorWriteNode | GlobalVariableOperatorWriteNode | InstanceVariableOperatorWriteNode | LocalVariableOperatorWriteNode

    attr_reader default_source: Source

    attr_reader read_class: Symbol

    attr_reader write_class: Symbol

    attr_reader arguments: Hash[Symbol, untyped]

    # : ((ClassVariableOperatorWriteNode | ConstantOperatorWriteNode | GlobalVariableOperatorWriteNode | InstanceVariableOperatorWriteNode | LocalVariableOperatorWriteNode) node, Source default_source, Symbol read_class, Symbol write_class, **untyped arguments) -> void
    def initialize: (ClassVariableOperatorWriteNode | ConstantOperatorWriteNode | GlobalVariableOperatorWriteNode | InstanceVariableOperatorWriteNode | LocalVariableOperatorWriteNode node, Source default_source, Symbol read_class, Symbol write_class, **untyped arguments) -> void

    # Desugar `x += y` to `x = x + y`
    # --
    # : () -> node
    def compile: () -> node
  end

  class DesugarOrWriteNode
    include DSL

    attr_reader node: InstanceVariableOrWriteNode | LocalVariableOrWriteNode

    attr_reader default_source: Source

    attr_reader read_class: Symbol

    attr_reader write_class: Symbol

    attr_reader arguments: Hash[Symbol, untyped]

    # : ((InstanceVariableOrWriteNode | LocalVariableOrWriteNode) node, Source default_source, Symbol read_class, Symbol write_class, **untyped arguments) -> void
    def initialize: (InstanceVariableOrWriteNode | LocalVariableOrWriteNode node, Source default_source, Symbol read_class, Symbol write_class, **untyped arguments) -> void

    # Desugar `x ||= y` to `x || x = y`
    # --
    # : () -> node
    def compile: () -> node
  end

  class ClassVariableAndWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class ClassVariableOrWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class ClassVariableOperatorWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class ConstantAndWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class ConstantOrWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class ConstantOperatorWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class GlobalVariableAndWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class GlobalVariableOrWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class GlobalVariableOperatorWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class InstanceVariableAndWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class InstanceVariableOrWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class InstanceVariableOperatorWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class LocalVariableAndWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class LocalVariableOrWriteNode
    # : () -> node
    def desugar: () -> node
  end

  class LocalVariableOperatorWriteNode
    # : () -> node
    def desugar: () -> node
  end

  # DesugarCompiler is a compiler that desugars Ruby code into a more primitive
  # form. This is useful for consumers that want to deal with fewer node types.
  class DesugarCompiler < MutationCompiler
    # `@@foo &&= bar`
    #
    # becomes
    #
    # `@@foo && @@foo = bar`
    # --
    # : (ClassVariableAndWriteNode node) -> node
    def visit_class_variable_and_write_node: (ClassVariableAndWriteNode node) -> node

    # `@@foo ||= bar`
    #
    # becomes
    #
    # `defined?(@@foo) ? @@foo : @@foo = bar`
    # --
    # : (ClassVariableOrWriteNode node) -> node
    def visit_class_variable_or_write_node: (ClassVariableOrWriteNode node) -> node

    # `@@foo += bar`
    #
    # becomes
    #
    # `@@foo = @@foo + bar`
    # --
    # : (ClassVariableOperatorWriteNode node) -> node
    def visit_class_variable_operator_write_node: (ClassVariableOperatorWriteNode node) -> node

    # `Foo &&= bar`
    #
    # becomes
    #
    # `Foo && Foo = bar`
    # --
    # : (ConstantAndWriteNode node) -> node
    def visit_constant_and_write_node: (ConstantAndWriteNode node) -> node

    # `Foo ||= bar`
    #
    # becomes
    #
    # `defined?(Foo) ? Foo : Foo = bar`
    # --
    # : (ConstantOrWriteNode node) -> node
    def visit_constant_or_write_node: (ConstantOrWriteNode node) -> node

    # `Foo += bar`
    #
    # becomes
    #
    # `Foo = Foo + bar`
    # --
    # : (ConstantOperatorWriteNode node) -> node
    def visit_constant_operator_write_node: (ConstantOperatorWriteNode node) -> node

    # `$foo &&= bar`
    #
    # becomes
    #
    # `$foo && $foo = bar`
    # --
    # : (GlobalVariableAndWriteNode node) -> node
    def visit_global_variable_and_write_node: (GlobalVariableAndWriteNode node) -> node

    # `$foo ||= bar`
    #
    # becomes
    #
    # `defined?($foo) ? $foo : $foo = bar`
    # --
    # : (GlobalVariableOrWriteNode node) -> node
    def visit_global_variable_or_write_node: (GlobalVariableOrWriteNode node) -> node

    # `$foo += bar`
    #
    # becomes
    #
    # `$foo = $foo + bar`
    # --
    # : (GlobalVariableOperatorWriteNode node) -> node
    def visit_global_variable_operator_write_node: (GlobalVariableOperatorWriteNode node) -> node

    # `@foo &&= bar`
    #
    # becomes
    #
    # `@foo && @foo = bar`
    # --
    # : (InstanceVariableAndWriteNode node) -> node
    def visit_instance_variable_and_write_node: (InstanceVariableAndWriteNode node) -> node

    # `@foo ||= bar`
    #
    # becomes
    #
    # `@foo || @foo = bar`
    # --
    # : (InstanceVariableOrWriteNode node) -> node
    def visit_instance_variable_or_write_node: (InstanceVariableOrWriteNode node) -> node

    # `@foo += bar`
    #
    # becomes
    #
    # `@foo = @foo + bar`
    # --
    # : (InstanceVariableOperatorWriteNode node) -> node
    def visit_instance_variable_operator_write_node: (InstanceVariableOperatorWriteNode node) -> node

    # `foo &&= bar`
    #
    # becomes
    #
    # `foo && foo = bar`
    # --
    # : (LocalVariableAndWriteNode node) -> node
    def visit_local_variable_and_write_node: (LocalVariableAndWriteNode node) -> node

    # `foo ||= bar`
    #
    # becomes
    #
    # `foo || foo = bar`
    # --
    # : (LocalVariableOrWriteNode node) -> node
    def visit_local_variable_or_write_node: (LocalVariableOrWriteNode node) -> node

    # `foo += bar`
    #
    # becomes
    #
    # `foo = foo + bar`
    # --
    # : (LocalVariableOperatorWriteNode node) -> node
    def visit_local_variable_operator_write_node: (LocalVariableOperatorWriteNode node) -> node
  end
end
